<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶®</title>
    <style>
        /* ‡ßß. ‡¶´‡ßÅ‡¶≤ ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶•‡¶ø‡¶Æ ‡¶ì ‡¶¨‡ßú ‡¶´‡¶®‡ßç‡¶ü */
        body { font-family: 'Arial', sans-serif; background: #000; color: #fff; margin: 0; padding: 0; }
        
        /* ‡ß®. ‡¶ü‡¶™ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® (‡¶ï‡ßç‡¶≤‡¶ø‡¶® ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶®) */
        .nav-top { background: #000; padding: 20px 10px; display: flex; justify-content: space-around; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 1000; }
        .nav-item { text-align: center; font-size: 14px; color: #fff; cursor: pointer; }

        /* ‡ß©. ‡¶≤‡¶æ‡¶∏‡ßç‡¶ü ‡¶∞‡¶ø‡¶° ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
        #last-read-box { background: #111; margin: 15px; padding: 20px; border-radius: 15px; border: 1px solid #333; display: none; }
        #last-read-box h3 { margin: 0; font-size: 18px; color: #FF9800; }

        /* ‡ß™. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶æ‡¶∞ */
        #search-box { width: 90%; margin: 15px auto; display: none; }
        #search-input { width: 100%; padding: 15px; border-radius: 30px; border: 1px solid #333; background: #111; color: #fff; font-size: 20px; outline: none; }

        /* ‡ß´. ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ */
        .surah-item { display: flex; align-items: center; padding: 20px; border-bottom: 1px solid #111; cursor: pointer; }
        .surah-no { font-size: 20px; color: #fff; width: 45px; font-weight: bold; }
        .surah-info { flex-grow: 1; margin-left: 15px; }
        .surah-name-bn { font-size: 26px; font-weight: bold; }
        .surah-meta { font-size: 16px; color: #888; margin-top: 5px; }

        /* ‡ß¨. ‡¶∞‡¶ø‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® */
        #reading-screen { display: none; background: #000; min-height: 100vh; }
        .ayah-card { padding: 40px 20px; border-bottom: 1px solid #111; text-align: center; }
        .arabic { font-size: 42px; line-height: 2.5; color: #fff; }
        .translation { font-size: 26px; color: #aaa; line-height: 1.8; margin-top: 15px; }
    </style>
</head>
<body>

<div id="main-app">
    <div class="nav-top">
        <div class="nav-item" onclick="location.reload()">üìñ<br>‡¶π‡ßã‡¶Æ</div>
        <div class="nav-item" onclick="toggleSearch()">üîç<br>‡¶∏‡¶æ‡¶∞‡ßç‡¶ö</div>
    </div>

    <div id="last-read-box" onclick="openLastRead()">
        <h3>üìñ ‡¶∂‡ßá‡¶∑ ‡¶™‡ßú‡ßá‡¶õ‡ßá‡¶®:</h3>
        <div id="last-surah-text" style="font-size: 22px; font-weight: bold; margin-top: 10px;"></div>
    </div>

    <div id="search-box">
        <input type="text" id="search-input" placeholder="‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ..." onkeyup="searchSurah()">
    </div>

    <div id="surah-list"></div>
</div>

<div id="reading-screen">
    <div style="padding: 20px; background: #000; display: flex; align-items: center; border-bottom: 1px solid #222;">
        <button onclick="goBack()" style="color:#fff; background:none; border:none; font-size: 35px; cursor:pointer;">‚Üê</button>
        <div style="margin-left: 20px;">
            <div id="current-name" style="font-size: 24px; font-weight: bold;"></div>
            <div id="current-meta" style="font-size: 14px; color: #888;"></div>
        </div>
    </div>
    <div id="ayah-container"></div>
</div>

<script>
    // ‡ßß ‡¶•‡ßá‡¶ï‡ßá ‡ßß‡ßß‡ß™‡¶ü‡¶ø ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ
    const surahData = [
        {id: 1, name: "‡¶´‡¶æ‡¶§‡¶ø‡¶π‡¶æ", ayahs: 7, type: "‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ"}, {id: 2, name: "‡¶¨‡¶æ‡¶ï‡¶æ‡¶∞‡¶æ", ayahs: 286, type: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"},
        {id: 3, name: "‡¶á‡¶Æ‡¶∞‡¶æ‡¶®", ayahs: 200, type: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"}, {id: 4, name: "‡¶®‡¶ø‡¶∏‡¶æ", ayahs: 176, type: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"},
        {id: 5, name: "‡¶Æ‡¶æ‡¶Ø‡¶º‡¶ø‡¶¶‡¶æ‡¶π", ayahs: 120, type: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"}, {id: 6, name: "‡¶Ü‡¶®'‡¶Ü‡¶Æ", ayahs: 165, type: "‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ"},
        {id: 7, name: "‡¶Ü'‡¶∞‡¶æ‡¶´", ayahs: 206, type: "‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ"}, {id: 8, name: "‡¶Ü‡¶®‡¶´‡¶æ‡¶≤", ayahs: 75, type: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"},
        {id: 9, name: "‡¶§‡¶æ‡¶ì‡¶¨‡¶æ‡¶π", ayahs: 129, type: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ"}, {id: 10, name: "‡¶á‡¶â‡¶®‡ßÅ‡¶∏", ayahs: 109, type: "‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ"},
        // ‡¶∏‡¶æ‡¶®‡¶ø ‡¶≠‡¶æ‡¶á, ‡ßß‡ßß‡ß™ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶®‡¶æ‡¶Æ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá API ‡¶•‡ßá‡¶ï‡ßá
    ];

    const surahNamesBn = ["", "‡¶´‡¶æ‡¶§‡¶ø‡¶π‡¶æ", "‡¶¨‡¶æ‡¶ï‡¶æ‡¶∞‡¶æ", "‡¶á‡¶Æ‡¶∞‡¶æ‡¶®", "‡¶®‡¶ø‡¶∏‡¶æ", "‡¶Æ‡¶æ‡¶Ø‡¶º‡¶ø‡¶¶‡¶æ‡¶π", "‡¶Ü‡¶®'‡¶Ü‡¶Æ", "‡¶Ü'‡¶∞‡¶æ‡¶´", "‡¶Ü‡¶®‡¶´‡¶æ‡¶≤", "‡¶§‡¶æ‡¶ì‡¶¨‡¶æ‡¶π", "‡¶á‡¶â‡¶®‡ßÅ‡¶∏", "‡¶π‡ßÅ‡¶¶", "‡¶á‡¶â‡¶∏‡ßÅ‡¶´", "‡¶∞‡¶æ‡¶¶", "‡¶á‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡¶ø‡¶Æ", "‡¶π‡¶ø‡¶ú‡¶∞", "‡¶®‡¶æ‡¶π‡¶≤", "‡¶á‡¶∏‡¶∞‡¶æ", "‡¶ï‡¶æ‡¶π‡¶´", "‡¶Æ‡¶æ‡¶∞‡¶á‡¶Ø‡¶º‡¶æ‡¶Æ", "‡¶§‡ßç‡¶¨‡ßã‡¶Ø‡¶º‡¶æ-‡¶π‡¶æ", "‡¶Ü‡¶Æ‡ßç‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ", "‡¶π‡¶æ‡¶ú‡ßç‡¶ú", "‡¶Æ‡ßÅ‡¶Æ‡¶ø‡¶®‡ßÅ‡¶®", "‡¶®‡ßÇ‡¶∞", "‡¶´‡ßÅ‡¶∞‡¶ï‡¶æ‡¶®", "‡¶∂‡ßÅ'‡¶Ü‡¶∞‡¶æ", "‡¶®‡¶æ‡¶Æ‡¶≤", "‡¶ï‡¶æ‡¶∏‡¶æ‡¶∏", "‡¶Ü‡¶®‡¶ï‡¶æ‡¶¨‡ßÅ‡¶§", "‡¶∞‡ßÇ‡¶Æ", "‡¶≤‡ßÅ‡¶ï‡¶Æ‡¶æ‡¶®", "‡¶∏‡¶æ‡¶ú‡¶¶‡¶æ‡¶π", "‡¶Ü‡¶π‡¶ú‡¶æ‡¶¨", "‡¶∏‡¶æ‡¶¨‡¶æ", "‡¶´‡¶æ‡¶§‡¶ø‡¶∞", "‡¶á‡¶Ø‡¶º‡¶æ‡¶∏‡ßÄ‡¶®", "‡¶∏‡¶æ‡¶´‡¶´‡¶æ‡¶§", "‡¶∏‡ßã‡¶Ø‡¶º‡¶æ‡¶¶", "‡¶Ø‡ßÅ‡¶Æ‡¶æ‡¶∞", "‡¶ó‡¶æ‡¶´‡¶ø‡¶∞", "‡¶´‡ßÅ‡¶∏‡¶∏‡¶ø‡¶≤‡¶æ‡¶§", "‡¶∂‡ßÇ‡¶∞‡¶æ", "‡¶Ø‡ßÅ‡¶ñ‡¶∞‡ßÅ‡¶´", "‡¶¶‡ßÅ‡¶ñ‡¶æ‡¶®", "‡¶ú‡¶æ‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶Ü‡¶π‡¶ï‡ßç‡¶¨‡¶æ‡¶´", "‡¶Æ‡ßÅ‡¶π‡¶æ‡¶Æ‡ßç‡¶Æ‡¶æ‡¶¶", "‡¶´‡¶æ‡¶§‡¶π", "‡¶π‡ßÅ‡¶ú‡ßÅ‡¶∞‡¶æ‡¶§", "‡¶ï‡ßç‡¶¨‡¶æ‡¶´", "‡¶Ø‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶§", "‡¶§‡ßÇ‡¶∞", "‡¶®‡¶æ‡¶ú‡¶Æ", "‡¶ï‡ßç‡¶¨‡¶æ‡¶Æ‡¶æ‡¶∞", "‡¶∞‡¶æ‡¶π‡¶Æ‡¶æ‡¶®", "‡¶ì‡¶Ø‡¶º‡¶æ‡¶ï‡ßç‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶π‡¶æ‡¶¶‡ßÄ‡¶¶", "‡¶Æ‡ßÅ‡¶ú‡¶æ‡¶¶‡¶æ‡¶≤‡¶æ‡¶π", "‡¶π‡¶æ‡¶∂‡¶∞", "‡¶Æ‡ßÅ‡¶Æ‡¶§‡¶æ‡¶π‡¶ø‡¶®‡¶æ‡¶π", "‡¶∏‡¶æ‡¶´", "‡¶ú‡ßÅ‡¶Æ‡ßÅ'‡¶Ü‡¶π", "‡¶Æ‡ßÅ‡¶®‡¶æ‡¶´‡¶ø‡¶ï‡ßÅ‡¶®", "‡¶§‡¶æ‡¶ó‡¶æ‡¶¨‡ßÅ‡¶®", "‡¶§‡ßç‡¶¨‡¶æ‡¶≤‡¶æ‡¶ï‡ßç‡¶¨", "‡¶§‡¶æ‡¶π‡¶∞‡ßÄ‡¶Æ", "‡¶Æ‡ßÅ‡¶≤‡¶ï", "‡¶ï‡ßç‡¶¨‡¶≤‡¶Æ", "‡¶π‡¶æ‡¶ï‡ßç‡¶ï‡¶æ‡¶π", "‡¶Æ‡¶æ'‡¶Ü‡¶∞‡¶ø‡¶ú", "‡¶®‡ßÇ‡¶π", "‡¶ú‡ßÄ‡¶®", "‡¶Æ‡ßÅ‡¶Ø‡¶Ø‡¶æ‡¶Æ‡¶Æ‡¶ø‡¶≤", "‡¶Æ‡ßÅ‡¶¶‡ßç‡¶¶‡¶æ‡¶∏‡¶∏‡¶ø‡¶∞", "‡¶ï‡ßç‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ‡¶æ‡¶π", "‡¶á‡¶®‡¶∏‡¶æ‡¶®", "‡¶Æ‡ßÅ‡¶∞‡¶∏‡¶æ‡¶≤‡¶æ‡¶§", "‡¶®‡¶æ‡¶¨‡¶æ", "‡¶®‡¶æ‡¶Ø‡¶ø'‡¶Ü‡¶§", "‡¶Ü‡¶¨‡¶æ‡¶∏‡¶æ", "‡¶§‡¶æ‡¶ï‡¶¨‡ßÄ‡¶∞", "‡¶á‡¶®‡¶´‡¶ø‡¶§‡¶æ‡¶∞", "‡¶Æ‡ßÅ‡¶§‡¶æ‡¶´‡¶´‡¶ø‡¶´‡ßÄ‡¶®", "‡¶á‡¶®‡¶∂‡¶ø‡¶ï‡ßç‡¶¨‡¶æ‡¶ï‡ßç‡¶¨", "‡¶¨‡ßÅ‡¶∞‡ßÇ‡¶ú", "‡¶§‡¶æ‡¶∞‡¶ø‡¶ï‡ßç‡¶¨", "‡¶Ü'‡¶≤‡¶æ", "‡¶ó‡¶æ‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶´‡¶æ‡¶ú‡¶∞", "‡¶¨‡¶æ‡¶≤‡¶æ‡¶¶", "‡¶∂‡¶æ‡¶Æ‡¶∏", "‡¶≤‡¶æ‡¶á‡¶≤", "‡¶¶‡ßÅ‡¶π‡¶æ", "‡¶á‡¶®‡¶∂‡¶ø‡¶∞‡¶æ‡¶π", "‡¶§‡ßÄ‡¶®", "‡¶Ü‡¶≤‡¶æ‡¶ï‡ßç‡¶¨", "‡¶ï‡ßç‡¶¨‡¶¶‡¶∞", "‡¶¨‡¶æ‡¶á‡¶Ø‡¶º‡ßç‡¶Ø‡¶ø‡¶®‡¶æ‡¶π", "‡¶Ø‡¶ø‡¶≤‡¶Ø‡¶æ‡¶≤", "‡¶Ü‡¶¶‡¶ø‡¶Ø‡¶º‡¶æ‡¶§", "‡¶ï‡ßç‡¶¨‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶§‡¶æ‡¶ï‡¶æ‡¶∏‡ßÅ‡¶∞", "‡¶Ü‡¶∏‡¶∞", "‡¶π‡ßÅ‡¶Æ‡¶æ‡¶Ø‡¶æ‡¶π", "‡¶´‡ßÄ‡¶≤", "‡¶ï‡ßÅ‡¶∞‡¶æ‡¶á‡¶∂", "‡¶Æ‡¶æ‡¶â‡¶®", "‡¶ï‡¶æ‡¶â‡¶∏‡¶æ‡¶∞", "‡¶ï‡¶æ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®", "‡¶®‡¶æ‡¶∏‡¶∞", "‡¶≤‡¶æ‡¶π‡¶æ‡¶¨", "‡¶á‡¶ñ‡¶≤‡¶æ‡¶∏", "‡¶´‡¶æ‡¶≤‡¶æ‡¶ï‡ßç‡¶¨", "‡¶®‡¶æ‡¶∏"];

    async function loadApp() {
        checkLastRead();
        const res = await fetch('https://api.alquran.cloud/v1/surah');
        const data = await res.json();
        renderList(data.data);
    }

    function renderList(list) {
        const container = document.getElementById('surah-list');
        container.innerHTML = "";
        list.forEach(s => {
            const nameBn = surahNamesBn[s.number];
            container.innerHTML += `
                <div class="surah-item" onclick="readSurah(${s.number}, '${nameBn}', '${s.revelationType}', ${s.numberOfAyahs})">
                    <div class="surah-no">${s.number}</div>
                    <div class="surah-info">
                        <div class="surah-name-bn">‡¶∏‡ßÇ‡¶∞‡¶æ ${nameBn}</div>
                        <div class="surah-meta">${s.revelationType === 'Meccan' ? '‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ' : '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ'} ‚Ä¢ ‡¶Ü‡ßü‡¶æ‡¶§: ${s.numberOfAyahs}</div>
                    </div>
                </div>`;
        });
    }

    async function readSurah(id, name, type, ayahs) {
        localStorage.setItem('lastReadId', id);
        localStorage.setItem('lastReadName', name);
        localStorage.setItem('lastReadAyahs', ayahs);

        document.getElementById('main-app').style.display = 'none';
        document.getElementById('reading-screen').style.display = 'block';
        document.getElementById('current-name').innerText = "‡¶∏‡ßÇ‡¶∞‡¶æ " + name;
        document.getElementById('current-meta').innerText = `‡¶Ü‡ßü‡¶æ‡¶§: ${ayahs} ‚Ä¢ ${type === 'Meccan' ? '‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ' : '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ'}`;
        
        const container = document.getElementById('ayah-container');
        container.innerHTML = "<h2 style='text-align:center;'>‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h2>";

        const [resAr, resBn] = await Promise.all([
            fetch(`https://api.alquran.cloud/v1/surah/${id}`),
            fetch(`https://api.alquran.cloud/v1/surah/${id}/bn.bengali`)
        ]);
        const dAr = await resAr.json();
        const dBn = await resBn.json();

        container.innerHTML = "";
        dAr.data.ayahs.forEach((ayah, i) => {
            container.innerHTML += `
                <div class="ayah-card">
                    <div style="color: #FF9800; font-size: 18px; margin-bottom: 10px;">‡¶Ü‡ßü‡¶æ‡¶§: ${ayah.numberInSurah}</div>
                    <div class="arabic">${ayah.text}</div>
                    <div class="translation">${dBn.data.ayahs[i].text}</div>
                </div>`;
        });
        window.scrollTo(0,0);
    }

    function checkLastRead() {
        const name = localStorage.getItem('lastReadName');
        const ayahs = localStorage.getItem('lastReadAyahs');
        if(name) {
            document.getElementById('last-read-box').style.display = 'block';
            document.getElementById('last-surah-text').innerText = `‡¶∏‡ßÇ‡¶∞‡¶æ ${name} (‡¶Ü‡ßü‡¶æ‡¶§: ${ayahs})`;
        }
    }

    function openLastRead() {
        const id = localStorage.getItem('lastReadId');
        const name = localStorage.getItem('lastReadName');
        if(id) readSurah(id, name, '', localStorage.getItem('lastReadAyahs'));
    }

    function toggleSearch() {
        const box = document.getElementById('search-box');
        box.style.display = box.style.display === 'block' ? 'none' : 'block';
    }

    function searchSurah() {
        const query = document.getElementById('search-input').value.toLowerCase();
        const items = document.querySelectorAll('.surah-item');
        items.forEach(item => {
            item.style.display = item.innerText.toLowerCase().includes(query) ? 'flex' : 'none';
        });
    }

    function goBack() {
        document.getElementById('main-app').style.display = 'block';
        document.getElementById('reading-screen').style.display = 'none';
        checkLastRead();
    }

    loadApp();
</script>
</body>
</html>
