<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶®</title>
    <style>
        :root { --arg-blue: #75AADB; --arg-white: #FFFFFF; }
        body { font-family: 'Arial', sans-serif; background: var(--arg-blue); margin: 0; padding: 0; }
        .app-header { background: var(--arg-white); padding: 25px; text-align: center; border-bottom: 5px solid #FFD700; position: sticky; top: 0; z-index: 100; }
        .container { max-width: 600px; margin: 20px auto; background: white; border-radius: 20px; padding: 20px; min-height: 85vh; }
        .menu-item { background: #f0f8ff; padding: 18px; margin: 10px 0; border-radius: 12px; border-left: 8px solid var(--arg-blue); cursor: pointer; font-size: 22px; font-weight: bold; }
        .display-screen { display: none; padding: 15px; background: #fff; }
        .arabic { font-size: 30px; color: #2c3e50; text-align: right; line-height: 1.8; margin-bottom: 10px; }
        .bangla { font-size: 19px; color: #444; text-align: left; margin-bottom: 25px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .back-btn { background: #333; color: white; padding: 10px 20px; border: none; border-radius: 8px; margin-bottom: 20px; cursor: pointer; }
        .tasbih-box { text-align: center; padding: 30px; }
        .count { font-size: 80px; color: var(--arg-blue); margin: 20px; font-weight: bold; }
        .tap-btn { width: 150px; height: 150px; border-radius: 50%; background: var(--arg-blue); color: white; border: none; font-size: 25px; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    </style>
</head>
<body onload="speakIntro()">

<div class="app-header">
    <h1 style="margin:0;">‚ú® ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶® ‚ú®</h1>
</div>

<div class="container">
    <div id="home-screen">
        <div class="menu-item" onclick="showQuran()">üìñ ‡¶Ü‡¶≤-‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶® (‡ßß‡ßß‡ß™ ‡¶∏‡ßÇ‡¶∞‡¶æ)</div>
        <div class="menu-item" onclick="showHadith()">üìú ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶™‡ßú‡ßÅ‡¶® (‡¶¨‡ßÅ‡¶ñ‡¶æ‡¶∞‡ßÄ ‡¶∂‡¶∞‡ßÄ‡¶´)</div>
        <div class="menu-item" onclick="showTasbih()">üìø ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶§‡¶∏‡¶¨‡¶ø‡¶π</div>
    </div>

    <div id="quran-list" style="display:none;">
        <button class="back-btn" onclick="goHome()">‚¨Ö ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</button>
        <div id="surah-container" style="max-height: 500px; overflow-y: auto;"></div>
    </div>

    <div id="read-screen" class="display-screen">
        <button class="back-btn" id="back-nav">‚¨Ö ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</button>
        <div id="display-content"></div>
    </div>

    <div id="tasbih-screen" class="tasbih-box" style="display:none;">
        <button class="back-btn" onclick="goHome()">‚¨Ö ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®</button>
        <div class="count" id="counter">0</div>
        <button class="tap-btn" onclick="countUp()">‡¶ü‡¶ø‡¶™‡ßÅ‡¶®</button><br><br>
        <button onclick="resetCount()" style="padding:10px; border-radius:5px; border:1px solid #ccc;">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
    </div>
</div>

<script>
    // ‡ßß. ‡¶®‡¶æ‡¶Æ ‡¶õ‡¶æ‡ßú‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶≠‡ßü‡ßá‡¶∏
    function speakIntro() {
        let msg = new SpeechSynthesisUtterance("‡¶Ü‡¶∏‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ ‡¶Ü‡¶≤‡¶æ‡¶á‡¶ï‡ßÅ‡¶Æ‡•§ ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ‡•§");
        msg.lang = 'bn-BD';
        window.speechSynthesis.speak(msg);
    }

    // ‡ß®. ‡ßß‡ßß‡ß™‡¶ü‡¶ø ‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶≤‡ßã‡¶°
    function showQuran() {
        hideAll(); document.getElementById('quran-list').style.display = 'block';
        let container = document.getElementById('surah-container');
        if(container.innerHTML==="") {
            fetch('https://api.alquran.cloud/v1/surah').then(res=>res.json()).then(data=>{
                data.data.forEach(s => {
                    container.innerHTML += `<div class="menu-item" onclick="loadSurah(${s.number})">${s.number}. ${s.name}</div>`;
                });
            });
        }
    }

    async function loadSurah(id) {
        hideAll(); document.getElementById('read-screen').style.display = 'block';
        document.getElementById('back-nav').onclick = showQuran;
        let content = document.getElementById('display-content');
        content.innerHTML = "‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
        const [rAr, rBn] = await Promise.all([fetch(`https://api.alquran.cloud/v1/surah/${id}`), fetch(`https://api.alquran.cloud/v1/surah/${id}/bn.bengali`)]);
        const [dAr, dBn] = await Promise.all([rAr.json(), rBn.json()]);
        content.innerHTML = "";
        dAr.data.ayahs.forEach((a, i) => {
            content.innerHTML += `<div class="arabic">${a.text}</div><div class="bangla">${dBn.data.ayahs[i].text}</div>`;
        });
    }

    // ‡ß©. ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶≤‡ßã‡¶° (‡¶¨‡ßÅ‡¶ñ‡¶æ‡¶∞‡ßÄ ‡¶∂‡¶∞‡ßÄ‡¶´)
    async function showHadith() {
        hideAll(); document.getElementById('read-screen').style.display = 'block';
        document.getElementById('back-nav').onclick = goHome;
        let content = document.getElementById('display-content');
        content.innerHTML = "‡¶π‡¶æ‡¶¶‡¶ø‡¶∏ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
        try {
            let res = await fetch('https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/ben-bukhari.json');
            let data = await res.json();
            content.innerHTML = "<h2>‡¶∏‡¶π‡¶ø‡¶π ‡¶¨‡ßÅ‡¶ñ‡¶æ‡¶∞‡ßÄ ‡¶•‡ßá‡¶ï‡ßá ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏</h2><hr>";
            for(let i=0; i<15; i++) {
                content.innerHTML += `<div class="bangla" style="padding: 15px; border-bottom: 1px solid #eee;">${data.hadiths[i].text}</div>`;
            }
        } catch(e) { content.innerHTML = "‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®!"; }
    }

    // ‡ß™. ‡¶§‡¶∏‡¶¨‡¶ø‡¶π ‡¶≤‡¶ú‡¶ø‡¶ï
    let c=0; 
    function countUp(){ c++; document.getElementById('counter').innerText=c; }
    function resetCount(){ c=0; document.getElementById('counter').innerText=c; }

    function showTasbih(){ hideAll(); document.getElementById('tasbih-screen').style.display='block'; }
    function goHome(){ hideAll(); document.getElementById('home-screen').style.display='block'; }
    function hideAll(){
        document.getElementById('home-screen').style.display='none';
        document.getElementById('quran-list').style.display='none';
        document.getElementById('read-screen').style.display='none';
        document.getElementById('tasbih-screen').style.display='none';
    }
</script>
</body>
</html>
