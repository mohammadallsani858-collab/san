<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶®</title>
    <style>
        /* ‡ßß. ‡¶¨‡ßú ‡¶´‡¶®‡ßç‡¶ü ‡¶ì ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶•‡¶ø‡¶Æ */
        body { font-family: 'Arial', sans-serif; background: #000; color: #fff; margin: 0; padding: 0; }
        
        /* ‡ß®. ‡¶á‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã ‡¶è‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
        #intro { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; justify-content: center; align-items: center; z-index: 9999; }
        #intro h1 { font-size: 55px; color: #FF9800; animation: fadeInOut 2s infinite alternate; }
        @keyframes fadeInOut { from { opacity: 0.3; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        /* ‡ß©. ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶π‡ßá‡¶°‡¶æ‡¶∞ */
        .header { background: #000; padding: 20px; text-align: center; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 1000; }
        .header h1 { margin: 0; font-size: 30px; color: #FF9800; }

        /* ‡ß™. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶æ‡¶∞ */
        #search-container { padding: 10px; display: none; text-align: center; }
        #search-input { width: 90%; padding: 15px; border-radius: 30px; border: 1px solid #444; background: #111; color: #fff; font-size: 20px; outline: none; }

        /* ‡ß´. ‡¶≤‡¶æ‡¶∏‡ßç‡¶ü ‡¶∞‡¶ø‡¶° ‡¶¨‡¶ï‡ßç‡¶∏ */
        #last-read { background: #111; margin: 15px; padding: 25px; border-radius: 15px; border-left: 6px solid #FF9800; cursor: pointer; display: none; }
        #last-read h3 { margin: 0; color: #FF9800; font-size: 18px; }

        /* ‡ß¨. ‡ßß‡ßß‡ß™‡¶ü‡¶ø ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ */
        .surah-item { display: flex; align-items: center; padding: 20px; border-bottom: 1px solid #111; cursor: pointer; }
        .surah-no { font-size: 22px; color: #555; width: 50px; font-weight: bold; }
        .surah-info { flex-grow: 1; margin-left: 10px; }
        .surah-name { font-size: 28px; font-weight: bold; }
        .surah-meta { font-size: 16px; color: #777; margin-top: 5px; }

        /* ‡ß≠. ‡¶∞‡¶ø‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® */
        #reading-screen { display: none; background: #000; min-height: 100vh; position: fixed; top: 0; left: 0; width: 100%; z-index: 2000; overflow-y: auto; }
        .read-header { padding: 20px; background: #000; border-bottom: 1px solid #222; display: flex; align-items: center; position: sticky; top: 0; }
        .ayah-card { padding: 45px 20px; border-bottom: 1px solid #111; text-align: center; }
        .arabic { font-size: 45px; line-height: 2.5; color: #fff; font-family: serif; }
        .translation { font-size: 26px; color: #aaa; line-height: 1.8; margin-top: 25px; }
    </style>
</head>
<body onload="initApp()">

<div id="intro"><h1>‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶®</h1></div>

<div id="main-app">
    <div class="header"><h1>‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶®</h1></div>
    
    <div style="display: flex; justify-content: space-around; padding: 10px; background: #000; border-bottom: 1px solid #111;">
        <div onclick="location.reload()" style="cursor:pointer;">üè† ‡¶π‡ßã‡¶Æ</div>
        <div onclick="toggleSearch()" style="cursor:pointer;">üîç ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö</div>
    </div>

    <div id="last-read" onclick="openLastRead()">
        <h3>üìñ ‡¶∂‡ßá‡¶∑ ‡¶™‡ßú‡ßá‡¶õ‡ßá‡¶®:</h3>
        <div id="last-info" style="font-size: 24px; margin-top: 10px; font-weight: bold;"></div>
    </div>

    <div id="search-container">
        <input type="text" id="search-input" placeholder="‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." onkeyup="doSearch()">
    </div>

    <div id="surah-list"></div>
</div>

<div id="reading-screen">
    <div class="read-header">
        <button onclick="closeRead()" style="color:#fff; background:none; border:none; font-size: 40px; cursor:pointer;">‚Üê</button>
        <div style="margin-left: 20px;">
            <div id="curr-surah-name" style="font-size: 24px; font-weight: bold;"></div>
            <div id="curr-surah-meta" style="font-size: 14px; color: #888;"></div>
        </div>
    </div>
    <div id="ayah-list"></div>
</div>

<script>
    // ‡¶∏‡¶æ‡¶®‡¶ø ‡¶≠‡¶æ‡¶á, ‡ßß‡ßß‡ß™‡¶ü‡¶ø ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶≤‡¶æ‡¶Æ
    const bnSurahNames = ["", "‡¶´‡¶æ‡¶§‡¶ø‡¶π‡¶æ", "‡¶¨‡¶æ‡¶ï‡¶æ‡¶∞‡¶æ", "‡¶á‡¶Æ‡¶∞‡¶æ‡¶®", "‡¶®‡¶ø‡¶∏‡¶æ", "‡¶Æ‡¶æ‡¶Ø‡¶º‡¶ø‡¶¶‡¶æ‡¶π", "‡¶Ü‡¶®'‡¶Ü‡¶Æ", "‡¶Ü'‡¶∞‡¶æ‡¶´", "‡¶Ü‡¶®‡¶´‡¶æ‡¶≤", "‡¶§‡¶æ‡¶ì‡¶¨‡¶æ‡¶π", "‡¶á‡¶â‡¶®‡ßÅ‡¶∏", "‡¶π‡ßÅ‡¶¶", "‡¶á‡¶â‡¶∏‡ßÅ‡¶´", "‡¶∞‡¶æ‡¶¶", "‡¶á‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡¶ø‡¶Æ", "‡¶π‡¶ø‡¶ú‡¶∞", "‡¶®‡¶æ‡¶π‡¶≤", "‡¶á‡¶∏‡¶∞‡¶æ", "‡¶ï‡¶æ‡¶π‡¶´", "‡¶Æ‡¶æ‡¶∞‡¶á‡¶Ø‡¶º‡¶æ‡¶Æ", "‡¶§‡ßç‡¶¨‡ßã‡¶Ø‡¶º‡¶æ-‡¶π‡¶æ", "‡¶Ü‡¶Æ‡ßç‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ", "‡¶π‡¶æ‡¶ú‡ßç‡¶ú", "‡¶Æ‡ßÅ‡¶Æ‡¶ø‡¶®‡ßÅ‡¶®", "‡¶®‡ßÇ‡¶∞", "‡¶´‡ßÅ‡¶∞‡¶ï‡¶æ‡¶®", "‡¶∂‡ßÅ'‡¶Ü‡¶∞‡¶æ", "‡¶®‡¶æ‡¶Æ‡¶≤", "‡¶ï‡¶æ‡¶∏‡¶æ‡¶∏", "‡¶Ü‡¶®‡¶ï‡¶æ‡¶¨‡ßÅ‡¶§", "‡¶∞‡ßÇ‡¶Æ", "‡¶≤‡ßÅ‡¶ï‡¶Æ‡¶æ‡¶®", "‡¶∏‡¶æ‡¶ú‡¶¶‡¶æ‡¶π", "‡¶Ü‡¶π‡¶ú‡¶æ‡¶¨", "‡¶∏‡¶æ‡¶¨‡¶æ", "‡¶´‡¶æ‡¶§‡¶ø‡¶∞", "‡¶á‡¶Ø‡¶º‡¶æ‡¶∏‡ßÄ‡¶®", "‡¶∏‡¶æ‡¶´‡¶´‡¶æ‡¶§", "‡¶∏‡ßã‡¶Ø‡¶º‡¶æ‡¶¶", "‡¶Ø‡ßÅ‡¶Æ‡¶æ‡¶∞", "‡¶ó‡¶æ‡¶´‡¶ø‡¶∞", "‡¶´‡ßÅ‡¶∏‡¶∏‡¶ø‡¶≤‡¶æ‡¶§", "‡¶∂‡ßÇ‡¶∞‡¶æ", "‡¶Ø‡ßÅ‡¶ñ‡¶∞‡ßÅ‡¶´", "‡¶¶‡ßÅ‡¶ñ‡¶æ‡¶®", "‡¶ú‡¶æ‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶Ü‡¶π‡¶ï‡ßç‡¶¨‡¶æ‡¶´", "‡¶Æ‡ßÅ‡¶π‡¶æ‡¶Æ‡ßç‡¶Æ‡¶æ‡¶¶", "‡¶´‡¶æ‡¶§‡¶π", "‡¶π‡ßÅ‡¶ú‡ßÅ‡¶∞‡¶æ‡¶§", "‡¶ï‡ßç‡¶¨‡¶æ‡¶´", "‡¶Ø‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶§", "‡¶§‡ßÇ‡¶∞", "‡¶®‡¶æ‡¶ú‡¶Æ", "‡¶ï‡ßç‡¶¨‡¶æ‡¶Æ‡¶æ‡¶∞", "‡¶∞‡¶æ‡¶π‡¶Æ‡¶æ‡¶®", "‡¶ì‡¶Ø‡¶º‡¶æ‡¶ï‡ßç‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶π‡¶æ‡¶¶‡ßÄ‡¶¶", "‡¶Æ‡ßÅ‡¶ú‡¶æ‡¶¶‡¶æ‡¶≤‡¶æ‡¶π", "‡¶π‡¶æ‡¶∂‡¶∞", "‡¶Æ‡ßÅ‡¶Æ‡¶§‡¶æ‡¶π‡¶ø‡¶®‡¶æ‡¶π", "‡¶∏‡¶æ‡¶´", "‡¶ú‡ßÅ‡¶Æ‡ßÅ'‡¶Ü‡¶π", "‡¶Æ‡ßÅ‡¶®‡¶æ‡¶´‡¶ø‡¶ï‡ßÅ‡¶®", "‡¶§‡¶æ‡¶ó‡¶æ‡¶¨‡ßÅ‡¶®", "‡¶§‡ßç‡¶¨‡¶æ‡¶≤‡¶æ‡¶ï‡ßç‡¶¨", "‡¶§‡¶æ‡¶π‡¶∞‡ßÄ‡¶Æ", "‡¶Æ‡ßÅ‡¶≤‡¶ï", "‡¶ï‡ßç‡¶¨‡¶≤‡¶Æ", "‡¶π‡¶æ‡¶ï‡ßç‡¶ï‡¶æ‡¶π", "‡¶Æ‡¶æ'‡¶Ü‡¶∞‡¶ø‡¶ú", "‡¶®‡ßÇ‡¶π", "‡¶ú‡ßÄ‡¶®", "‡¶Æ‡ßÅ‡¶Ø‡¶Ø‡¶æ‡¶Æ‡¶Æ‡¶ø‡¶≤", "‡¶Æ‡ßÅ‡¶¶‡ßç‡¶¶‡¶æ‡¶∏‡¶∏‡¶ø‡¶∞", "‡¶ï‡ßç‡¶¨‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ‡¶æ‡¶π", "‡¶á‡¶®‡¶∏‡¶æ‡¶®", "‡¶Æ‡ßÅ‡¶∞‡¶∏‡¶æ‡¶≤‡¶æ‡¶§", "‡¶®‡¶æ‡¶¨‡¶æ", "‡¶®‡¶æ‡¶Ø‡¶ø'‡¶Ü‡¶§", "‡¶Ü‡¶¨‡¶æ‡¶∏‡¶æ", "‡¶§‡¶æ‡¶ï‡¶¨‡ßÄ‡¶∞", "‡¶á‡¶®‡¶´‡¶ø‡¶§‡¶æ‡¶∞", "‡¶Æ‡ßÅ‡¶§‡¶æ‡¶´‡¶´‡¶ø‡¶´‡ßÄ‡¶®", "‡¶á‡¶®‡¶∂‡¶ø‡¶ï‡ßç‡¶¨‡¶æ‡¶ï‡ßç‡¶¨", "‡¶¨‡ßÅ‡¶∞‡ßÇ‡¶ú", "‡¶§‡¶æ‡¶∞‡¶ø‡¶ï‡ßç‡¶¨", "‡¶Ü'‡¶≤‡¶æ", "‡¶ó‡¶æ‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶´‡¶æ‡¶ú‡¶∞", "‡¶¨‡¶æ‡¶≤‡¶æ‡¶¶", "‡¶∂‡¶æ‡¶Æ‡¶∏", "‡¶≤‡¶æ‡¶á‡¶≤", "‡¶¶‡ßÅ‡¶π‡¶æ", "‡¶á‡¶®‡¶∂‡¶ø‡¶∞‡¶æ‡¶π", "‡¶§‡ßÄ‡¶®", "‡¶Ü‡¶≤‡¶æ‡¶ï‡ßç‡¶¨", "‡¶ï‡ßç‡¶¨‡¶¶‡¶∞", "‡¶¨‡¶æ‡¶á‡¶Ø‡¶º‡ßç‡¶Ø‡¶ø‡¶®‡¶æ‡¶π", "‡¶Ø‡¶ø‡¶≤‡¶Ø‡¶æ‡¶≤", "‡¶Ü‡¶¶‡¶ø‡¶Ø‡¶º‡¶æ‡¶§", "‡¶ï‡ßç‡¶¨‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶π", "‡¶§‡¶æ‡¶ï‡¶æ‡¶∏‡ßÅ‡¶∞", "‡¶Ü‡¶∏‡¶∞", "‡¶π‡ßÅ‡¶Æ‡¶æ‡¶Ø‡¶æ‡¶π", "‡¶´‡ßÄ‡¶≤", "‡¶ï‡ßÅ‡¶∞‡¶æ‡¶á‡¶∂", "‡¶Æ‡¶æ‡¶â‡¶®", "‡¶ï‡¶æ‡¶â‡¶∏‡¶æ‡¶∞", "‡¶ï‡¶æ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®", "‡¶®‡¶æ‡¶∏‡¶∞", "‡¶≤‡¶æ‡¶π‡¶æ‡¶¨", "‡¶á‡¶ñ‡¶≤‡¶æ‡¶∏", "‡¶´‡¶æ‡¶≤‡¶æ‡¶ï‡ßç‡¶¨", "‡¶®‡¶æ‡¶∏"];

    function initApp() {
        setTimeout(() => { document.getElementById('intro').style.display = 'none'; }, 2500);
        showLastRead();
        getSurahList();
    }

    async function getSurahList() {
        const res = await fetch('https://api.alquran.cloud/v1/surah');
        const data = await res.json();
        const list = document.getElementById('surah-list');
        list.innerHTML = "";
        data.data.forEach(s => {
            const nameBn = bnSurahNames[s.number];
            list.innerHTML += `
                <div class="surah-item" onclick="readSurah(${s.number}, '${nameBn}', '${s.revelationType}', ${s.numberOfAyahs})">
                    <div class="surah-no">${s.number}</div>
                    <div class="surah-info">
                        <div class="surah-name">‡¶∏‡ßÇ‡¶∞‡¶æ ${nameBn}</div>
                        <div class="surah-meta">${s.revelationType === 'Meccan' ? '‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ' : '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ'} ‚Ä¢ ‡¶Ü‡ßü‡¶æ‡¶§: ${s.numberOfAyahs}</div>
                    </div>
                </div>`;
        });
    }

    async function readSurah(id, name, type, ayahs) {
        localStorage.setItem('s_id', id);
        localStorage.setItem('s_name', name);
        localStorage.setItem('s_ayahs', ayahs);

        document.getElementById('reading-screen').style.display = 'block';
        document.getElementById('curr-surah-name').innerText = "‡¶∏‡ßÇ‡¶∞‡¶æ " + name;
        document.getElementById('curr-surah-meta').innerText = `‡¶Ü‡ßü‡¶æ‡¶§: ${ayahs} ‚Ä¢ ${type === 'Meccan' ? '‡¶Æ‡¶æ‡¶ï‡ßç‡¶ï‡ßÄ' : '‡¶Æ‡¶æ‡¶¶‡¶æ‡¶®‡ßÄ'}`;
        
        const ayahDiv = document.getElementById('ayah-list');
        ayahDiv.innerHTML = "<h2 style='text-align:center; padding-top:100px;'>‡¶™‡¶¨‡¶ø‡¶§‡ßç‡¶∞ ‡¶¨‡¶æ‡¶£‡ßÄ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h2>";

        const [rAr, rBn] = await Promise.all([
            fetch(`https://api.alquran.cloud/v1/surah/${id}`),
            fetch(`https://api.alquran.cloud/v1/surah/${id}/bn.bengali`)
        ]);
        const dAr = await rAr.json();
        const dBn = await rBn.json();

        ayahDiv.innerHTML = "";
        dAr.data.ayahs.forEach((ayah, i) => {
            ayahDiv.innerHTML += `
                <div class="ayah-card">
                    <div style="color: #FF9800; font-size: 18px; margin-bottom: 10px;">‡¶Ü‡ßü‡¶æ‡¶§ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: ${ayah.numberInSurah}</div>
                    <div class="arabic">${ayah.text}</div>
                    <div class="translation">${dBn.data.ayahs[i].text}</div>
                </div>`;
        });
        document.getElementById('reading-screen').scrollTop = 0;
    }

    function showLastRead() {
        const name = localStorage.getItem('s_name');
        const ayahs = localStorage.getItem('s_ayahs');
        if(name) {
            document.getElementById('last-read').style.display = 'block';
            document.getElementById('last-info').innerText = `‡¶∏‡ßÇ‡¶∞‡¶æ ${name} (‡¶Ü‡ßü‡¶æ‡¶§: ${ayahs})`;
        }
    }

    function openLastRead() {
        const id = localStorage.getItem('s_id');
        if(id) readSurah(id, localStorage.getItem('s_name'), '', localStorage.getItem('s_ayahs'));
    }

    function toggleSearch() {
        const box = document.getElementById('search-container');
        box.style.display = box.style.display === 'block' ? 'none' : 'block';
    }

    function doSearch() {
        const q = document.getElementById('search-input').value.toLowerCase();
        const items = document.querySelectorAll('.surah-item');
        items.forEach(item => {
            item.style.display = item.innerText.toLowerCase().includes(q) ? 'flex' : 'none';
        });
    }

    function closeRead() {
        document.getElementById('reading-screen').style.display = 'none';
        showLastRead();
    }
</script>
</body>
</html>
