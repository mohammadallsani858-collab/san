<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Æ‡¶π‡¶æ‡¶®</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: #E8E2D6; margin: 0; padding: 0; transition: 0.3s; }
        
        /* ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶•‡¶ø‡¶Æ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
        body.dark-mode { background: #1a1a1a; color: #fff; }

        /* ‡ßß. ‡¶ü‡¶™ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® */
        .nav-top { background: #D9D2C3; padding: 15px; display: flex; justify-content: space-around; position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid #C4BBAA; }
        .nav-item { text-align: center; font-size: 14px; color: #444; font-weight: bold; cursor: pointer; }

        /* ‡ß®. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        #search-container { display: none; padding: 10px; background: #E8E2D6; text-align: center; }
        #search-input { width: 80%; padding: 12px; border-radius: 25px; border: 1px solid #C4BBAA; font-size: 18px; outline: none; }

        /* ‡ß©. ‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ */
        .surah-item { display: flex; align-items: center; padding: 20px; border-bottom: 1px solid #D1C9B9; cursor: pointer; }
        .surah-name-bn { font-size: 24px; font-weight: bold; color: #222; flex-grow: 1; }
        body.dark-mode .surah-name-bn { color: #fff; }

        /* ‡ß™. ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ */
        #settings-panel { display: none; position: fixed; top: 70px; right: 20px; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 2000; }
        body.dark-mode #settings-panel { background: #333; }

        /* ‡ß´. ‡¶∞‡¶ø‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® */
        .content-screen { display: none; background: #000; color: #fff; min-height: 100vh; padding-bottom: 100px; }
        .ayah-card { padding: 30px 20px; border-bottom: 1px solid #222; text-align: center; }
        .arabic { font-size: 38px; line-height: 2.5; margin-bottom: 15px; }
        .translation { font-size: 22px; color: #aaa; line-height: 1.6; }

        /* ‡¶Ö‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶≤‡ßá‡ßü‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶∞ */
        .audio-player { position: fixed; bottom: 0; width: 100%; background: #111; padding: 15px 0; display: flex; justify-content: center; align-items: center; border-top: 2px solid #FF9800; }
        .player-btn { background: none; border: none; color: #fff; font-size: 30px; margin: 0 20px; cursor: pointer; }
    </style>
</head>
<body>

<div class="nav-top">
    <div class="nav-item">üìñ<br>‡¶≤‡¶æ‡¶∏‡ßç‡¶ü ‡¶∞‡¶ø‡¶°</div>
    <div class="nav-item" onclick="toggleSearch()">üîç<br>‡¶∏‡¶æ‡¶∞‡ßç‡¶ö</div>
    <div class="nav-item" onclick="alert('‡¶Ö‡¶°‡¶ø‡¶ì ‡¶Ö‡¶ö‡¶ø‡¶∞‡ßá‡¶á ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá!')">üéµ<br>‡¶Ö‡¶°‡¶ø‡¶ì</div>
    <div class="nav-item" onclick="toggleSettings()">‚öôÔ∏è<br>‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</div>
</div>

<div id="search-container">
    <input type="text" id="search-input" placeholder="‡¶∏‡ßÇ‡¶∞‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." onkeyup="filterSurahs()">
</div>

<div id="settings-panel">
    <h3>‚öôÔ∏è ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h3>
    <button onclick="toggleDarkMode()" style="padding: 10px; width: 100%; cursor: pointer;">‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶° ‡¶Ö‡¶®/‡¶Ö‡¶´</button>
    <p>‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú: <input type="range" min="15" max="40" oninput="changeFontSize(this.value)"></p>
</div>

<div id="list-screen">
    <div id="surah-container"></div>
</div>

<div class="content-screen" id="reading-screen">
    <div style="padding: 15px; background: #111; display: flex; justify-content: space-between;">
        <button onclick="showList()" style="color:white; background:none; border:none; font-size: 25px;">‚Üê</button>
        <span id="surah-title"></span>
        <span></span>
    </div>
    <div id="quran-content"></div>
    <div class="audio-player">
        <button class="player-btn">‚èÆ</button>
        <button class="player-btn" style="font-size: 45px;">‚ñ∂</button>
        <button class="player-btn">‚è≠</button>
    </div>
</div>

<script>
    const banglaSurahNames = { 1: "‡¶´‡¶æ‡¶§‡¶ø‡¶π‡¶æ", 2: "‡¶¨‡¶æ‡¶ï‡¶æ‡¶∞‡¶æ", 3: "‡¶á‡¶Æ‡¶∞‡¶æ‡¶®", 4: "‡¶®‡¶ø‡¶∏‡¶æ", 114: "‡¶®‡¶æ‡¶∏" /* ‡¶∏‡¶¨ ‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã */ };
    let allSurahs = [];

    async function loadSurahList() {
        const res = await fetch('https://api.alquran.cloud/v1/surah');
        const data = await res.json();
        allSurahs = data.data;
        displaySurahs(allSurahs);
    }

    function displaySurahs(surahs) {
        const container = document.getElementById('surah-container');
        container.innerHTML = "";
        surahs.forEach(s => {
            const nameBn = banglaSurahNames[s.number] || s.englishName;
            container.innerHTML += `
                <div class="surah-item" onclick="readSurah(${s.number}, '${nameBn}')">
                    <div style="width: 40px;">${s.number}</div>
                    <div class="surah-name-bn">‡¶∏‡ßÇ‡¶∞‡¶æ ${nameBn}</div>
                    <div style="font-size: 18px;">(${s.name})</div>
                </div>`;
        });
    }

    // ‡ßß. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function toggleSearch() {
        const sc = document.getElementById('search-container');
        sc.style.display = sc.style.display === 'block' ? 'none' : 'block';
    }

    function filterSurahs() {
        const query = document.getElementById('search-input').value.toLowerCase();
        const filtered = allSurahs.filter(s => {
            const nameBn = (banglaSurahNames[s.number] || "").toLowerCase();
            return nameBn.includes(query) || s.englishName.toLowerCase().includes(query);
        });
        displaySurahs(filtered);
    }

    // ‡ß®. ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶ì ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶°
    function toggleSettings() {
        const sp = document.getElementById('settings-panel');
        sp.style.display = sp.style.display === 'block' ? 'none' : 'block';
    }

    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
    }

    function changeFontSize(size) {
        document.body.style.fontSize = size + "px";
    }

    async function readSurah(id, name) {
        document.getElementById('list-screen').style.display = 'none';
        document.getElementById('reading-screen').style.display = 'block';
        document.getElementById('surah-title').innerText = "‡¶∏‡ßÇ‡¶∞‡¶æ " + name;
        const content = document.getElementById('quran-content');
        content.innerHTML = "‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
        const [resAr, resBn] = await Promise.all([
            fetch(`https://api.alquran.cloud/v1/surah/${id}`),
            fetch(`https://api.alquran.cloud/v1/surah/${id}/bn.bengali`)
        ]);
        const [dAr, dBn] = await Promise.all([resAr.json(), resBn.json()]);
        content.innerHTML = "";
        dAr.data.ayahs.forEach((ayah, i) => {
            content.innerHTML += `
                <div class="ayah-card">
                    <div class="arabic">${ayah.text}</div>
                    <div class="translation">${dBn.data.ayahs[i].text}</div>
                </div>`;
        });
        window.scrollTo(0, 0);
    }

    function showList() {
        document.getElementById('list-screen').style.display = 'block';
        document.getElementById('reading-screen').style.display = 'none';
    }

    loadSurahList();
</script>
</body>
</html>
